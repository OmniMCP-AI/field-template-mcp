{
  "tool_name": "classify_by_llm",
  "operation_type": "single_choice",
  "description": "Intelligently classifies text content into exactly one best-matching category using advanced LLM semantic understanding. Ideal for content categorization, routing workflows, sentiment analysis, and organizing data by topic, intent, or type. Supports batch processing of multiple items, custom classification instructions, and optional confidence scoring. Each input is assigned to the single most appropriate category from your predefined list.",
  "category": "classification",
  "version": "1.0.0",
  "model_config": {
    "provider": "openai",
    "model": "openai/gpt-4o-mini",
    "temperature": 0.0,
    "max_tokens": 100
  },
  "prompt_templates": {
    "system": "You are a classification expert. Your task is to classify text into exactly ONE category from the provided list.\n\nRules:\n- You MUST choose exactly one category\n- Choose the category that best matches the primary topic or theme\n- If uncertain, choose the most likely category\n- Return ONLY the category name, nothing else",
    "user": "Categories: {categories}\n\nText to classify:\n{text}\n\nCategory:"
  },
  "parameters": {
    "input": {
      "type": "array",
      "description": "Array of text items to classify. Each item can be a string or an object with 'id' and 'data' fields for batch processing. Supports articles, messages, documents, or any text content requiring categorization.",
      "required": true
    },
    "categories": {
      "type": "array",
      "items": {"type": "string"},
      "description": "List of mutually exclusive category names to choose from (minimum 2 required). Each input will be assigned to exactly one category. Use clear, descriptive category names like 'tech', 'sports', 'politics' rather than abbreviations.",
      "minItems": 2,
      "required": true
    },
    "prompt": {
      "type": "string",
      "description": "Optional custom instructions to guide classification behavior. Use this to provide domain-specific context, clarify edge cases, or define what distinguishes categories. Example: 'Focus on the main topic, not secondary mentions' or 'Classify by emotional tone: positive, neutral, or negative'.",
      "required": false
    },
    "args": {
      "type": "object",
      "description": "Optional advanced configuration settings to customize classification behavior, scoring, and model parameters.",
      "properties": {
        "model": {"type": "string", "description": "Override the default LLM model (gpt-4o-mini). Useful for complex classifications requiring more advanced reasoning."},
        "temperature": {"type": "number", "description": "Control randomness in classification (0.0 = deterministic, higher = more creative). Default 0.0 for consistent results."},
        "include_scores": {"type": "boolean", "default": false, "description": "When true, returns confidence scores (0-1) alongside categories, showing how certain the model is about each classification."},
        "allow_none": {"type": "boolean", "default": false, "description": "When true, allows null results if no category fits well. Useful for quality control when exact matches are required."},
        "fallback_category": {"type": "string", "default": null, "description": "Default category to use when classification is uncertain or when allow_none is false and no good match exists."}
      },
      "required": false
    }
  },
  "output_format": {
    "type": "array",
    "items": {
      "type": "object",
      "properties": {
        "id": {"type": ["integer", "string"]},
        "result": {"type": ["string", "object", "null"]},
        "error": {"type": "string"}
      },
      "required": ["id"]
    }
  },
  "examples": [
    {
      "description": "Basic classification",
      "input": {
        "input": ["Apple releases new iPhone", "Lakers win game"],
        "categories": ["tech", "sports", "politics"]
      },
      "output": [
        {"id": 0, "result": "tech"},
        {"id": 1, "result": "sports"}
      ]
    },
    {
      "description": "With confidence scores",
      "input": {
        "input": [{"id": "article_1", "data": "Tech startup raises funding"}],
        "categories": ["tech", "business", "finance"],
        "args": {"include_scores": true}
      },
      "output": [
        {"id": "article_1", "result": {"category": "business", "score": 0.85}}
      ]
    }
  ]
}
